<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@tabidots" />
    <meta name="twitter:creator" content="@tabidots" />
    <meta name="twitter:title" content="Outer State Space Race (Markov chains and matrices)" />
    <meta name="twitter:description" content="" />
    <meta name="twitter:image:src" content="/images/phja_den_view.JPG" />
    <meta name="twitter:domain" content="svenkreiss.com" />

    <meta property="og:title" content="Outer State Space Race (Markov chains and matrices)" />
    <meta property="og:type" content="article" />
    <meta property="og:description" content="" />
    <meta property="og:image" content="/images/phja_den_view.JPG" />
    <meta property="og:site_name" content="judosaltgenius.com" />
    <meta property="og:url" content="/drafts/markov" />


        <title>Outer State Space Race (Markov chains and matrices) - Judo Salt Genius</title>


    <!-- KaTeX -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-beta1/katex.min.css" integrity="sha384-VEnyslhHLHiYPca9KFkBB3CMeslnM9CzwjxsEbZTeA21JBm7tdLwKoZmCt3cZTYD" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-beta1/katex.min.js" integrity="sha384-O4hpKqcplNCe+jLuBVEXC10Rn1QEqAmX98lKAIFBEDxZI0a+6Z2w2n8AEtQbR4CD" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-beta1/contrib/auto-render.min.js" integrity="sha384-IiI65aU9ZYub2MY9zhtKd1H2ps7xxf+eb2YFG9lX6uRqpXCvBTOidPRCXCrQ++Uc" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="/theme/css/pure.css?v=0.1.0" />
      <!-- CSS specified by the user -->


      <link href="/assets/mystyle.css" type="text/css" rel="stylesheet" />
    <link rel="stylesheet" href="/theme/css/pygments.css" />

    <!-- for pelican_dynamic plugin -->
    <!-- end pelican_dynamic -->

</head>

<body>
<div class="pure-g-r" id="layout">
    <div class="sidebar sidebar-article pure-u">
        <header class="header-article">
                    <a href="/author/justin-douglas" title="See posts by Justin Douglas">
                        <img class="avatar" alt="Justin Douglas" src="https://www.gravatar.com/avatar/74f13134596b2ed04a497936e3fdfd33?s=140">
                    </a>
                <h2 class="article-info">Justin Douglas</h2>


                    <h5>Draft</h5>

                <p class="article-date">Sat 12 January 2019</p>

                <a class="header-article-home" href="/">&larr;Home</a>
        </header>
    </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>Outer State Space Race (Markov chains and&nbsp;matrices)</h1>
                </header>
            </section>

                <nav class="toc">
                <div class="toc">
<ul>
<li><a href="#defining-a-markov-chain">Defining a Markov chain</a></li>
<li><a href="#matrix-izing-a-markov-chain">Matrix-izing a Markov chain</a></li>
<li><a href="#random-walks">Random Walks</a></li>
<li><a href="#references">References</a></li>
</ul>
</div>
                </nav>

            
<p>I had heard of Markov chains before, but because my perspective had always been tightly focused on language, I never felt they were really useful.</p>
<p>To review, a Markov chain basically describes a scenario or system where one event leads to other events (and so on, perhaps in a cycle) with varying probabilities, but <em>the probability of any one event leading to another given event is completely independent of all other probabilities</em>.</p>
<p>In <a href="https://www.youtube.com/watch?v=0Il-y_WLTo4">the <span class="caps">HIV</span>/<span class="caps">AIDS</span> scenario model</a> that originally got me interested in learning about Markov chains, the chances of your next “step”—future health outcome—depend <em>only</em> on your present status.</p>
<p>This is called the <strong>Markov property</strong>. It’s like the opposite of the Monty Hall problem I wrote about previously. The probability of there being a car behind Door 2 <em>changes</em> after Monty opens Door 3. Meanwhile, in a Markov chain, every probability is independent of the others.</p>
<p>Markov chains, as far as I know, have limited usefulness in natural language processing, because sequences of language data—letters, words, sentences, paragraphs—are highly dependent on not only the previous item, but to some extent <em>all</em> previous items.</p>
<p>You can see the implications of this in Markov text generators, based on everything from Shakespear to Eminem, that struggle to produce anything meaningful. Or in the case of part-of-speech tagging, it is simply inaccurate that a <span class="caps">POS</span> of a word could depend <em>only</em> on the <span class="caps">POS</span> of the previous word.</p>
<p>(Even human brains falter in processing so-called <em>garden path sentences</em>, such as “The horse raced past the barn fell,” where you expect perhaps an adverb of some sort after the word “barn.”)</p>
<p>Now, what recently got me interested in Markov chains, as I <a href="2019/01/monty-hall-beginner">wrote previously</a>, is the fact that they can be represented by matrices, and manipulated with the tools of linear algebra. First, though, let’s get mathy (okay, technically this is probability, but anything notated in LaTeX looks like math to me).</p>
<h1 id="defining-a-markov-chain">Defining a Markov chain</h1>
<p>The collection of <em>possible states</em> of a system is called its <strong>state space</strong> and notated as <span class="math">\(S = \{1,2,3,\cdots,n\}\)</span>. The graphical representation of a Markov chain is called a <em>transition chart</em>, with a box for every state in <span class="math">\(S\)</span>.</p>
<p>The <em>actual</em> state of a system <em>at time t</em> is written <span class="math">\(X_t = s\)</span>.</p>
<p>The Markov property can be notated as follows. For all <span class="math">\(t\)</span> and all <span class="math">\(s_n\)</span> and <span class="math">\(s\)</span>,</p>
<div class="math">$$ \begin{aligned} &amp; P(X_{t+1} = s | X_t = s_t, X_{t-1} = s_{t-1}, \cdots, X_0 = s_o) \\
&amp;= P(X_{t+1} = s | X_t = s_t\textcolor{lightgray}{, X_{t-1} = s_{t-1}, \cdots, X_0 = s_o}) \\
&amp;= P(X_{t+1} = s | X_t = s_t) \end{aligned} $$</div>
<p>I’ve included the middle line just to make the notation a little clearer. The probability that the system <span class="math">\(X\)</span> will be in some state <span class="math">\(s\)</span> at the next time step <span class="math">\(t+1\)</span> given the entire history of the system is the same as the probability that the system will be in that same state given only the present state <span class="math">\(X_t\)</span>.</p>
<p>(In other words, the history of the system up to and excluding the present state does not matter.)</p>
<h1 id="matrix-izing-a-markov-chain">Matrix-izing a Markov chain</h1>
<p>This is how to use a matrix to represent a Markov chain. Annotating a matrix is beyond my LaTeX skills (and perhaps the capabilities of the KaTeX renderer), so I will use a code block. In this case, there are five states in the state space of the system.</p>
<div class="highlight"><pre><span></span>                  <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">go</span> <span class="n">to</span> <span class="n">state</span>
                      <span class="n">A</span>  <span class="n">B</span>  <span class="n">C</span>  <span class="n">D</span>  <span class="n">E</span>
                  <span class="n">A</span> <span class="p">[</span> <span class="n">probabilities</span> <span class="p">]</span> <span class="n">sum</span> <span class="n">to</span> <span class="mi">1</span> <span class="n">reading</span> <span class="n">across</span>
                  <span class="n">B</span> <span class="p">[</span> <span class="n">probabilities</span> <span class="p">]</span>          <span class="s">""</span>
<span class="hll"> <span class="n">you</span> <span class="n">are</span> <span class="kp">in</span> <span class="n">state</span> <span class="n">C</span> <span class="p">[</span> <span class="n">probabilities</span> <span class="p">]</span>          <span class="s">""</span>
</span>                  <span class="n">D</span> <span class="p">[</span> <span class="n">probabilities</span> <span class="p">]</span>          <span class="s">""</span>
                  <span class="n">E</span> <span class="p">[</span> <span class="n">probabilities</span> <span class="p">]</span>          <span class="s">""</span>
</pre></div>
<p>In formal notation, a possible <strong>transition matrix</strong> (a.k.a. Markov matrix, stochastic matrix) might look something like this:</p>
<div class="math">$$ P = \begin{bmatrix}
1\over4 &amp; 1\over2 &amp; 1\over4 \\[0.5em]
1\over3 &amp; 0       &amp; 2\over3 \\[0.5em]
1\over2 &amp; 0       &amp; 1\over2 \end{bmatrix} $$</div>
<p>Capital <span class="math">\(P\)</span> represents the whole matrix and each small <span class="math">\(p\)</span> with subscripts (<span class="math">\(p_{ij}\)</span>) represents the probability of going from state <span class="math">\(i\)</span> to state <span class="math">\(j\)</span>.</p>
<h1 id="random-walks">Random Walks</h1>
<p>Random walk down Wall Street</p>
<h1 id="references">References</h1>
<p><a href="https://www.stat.auckland.ac.nz/~fewster/325/notes/ch8.pdf">Stats 325, Chapter 8: Markov Chains</a>, Rachel Fewster</p>

            <p class="post-footer">
                // filed
                in <a class="post-category" href="/category/probability">Probability</a>&nbsp;&nbsp;&nbsp;

                <span style="display:inline-block;">
                // share on <a href="https://twitter.com/share?text=%22Outer%20State%20Space%20Race%20%28Markov%20chains%20and%C2%A0matrices%29%3A%22&amp;hashtags=" target="_blank">
                    <i class="fa fa-twitter fa-lg"></i> Twitter
                </a>
                </span>
            </p>
            <div class="hr"></div>


            <a href="#" class="go-top">Go Top</a>
<footer class="footer">
    <p>&copy; Justin Douglas  2019. Published with <a href="https://github.com/getpelican/pelican">Pelican</a>.<br />This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>
</footer>        </div>
    </div>
</div>
    <script>
        renderMathInElement(document.body);
    </script>

			<!-- Script specified by the user -->
			<script type="text/javascript"  src="/assets/tweaks.js"></script>

    <!-- for pelican_dynamic plugin -->



</body>
</html>